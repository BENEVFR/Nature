---
title: "FAQ"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{FAQ}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

## Comment modifier le texte présent dans la pop-up au moment de collecter les données ?

Avant de collecter les données des répondants, une pop-up demande leur accord. En cas de refus, la page est désactivée. Sinon, le répondant est invité à sélectionner sa zone d'habitation avant d'être redirigé vers le questionnaire.

Jusqu'à présent, le texte est en _lorem ipsum_. Il s'agit d'un texte illustratif. 

Il existe deux façons de le modifier : 

- Dans le dossier `inst/templates/html_survey`, le fichier `script.js` contient le code pour modifier ce texte. Il s'agit du fichier "générique" qui sera copié/collé dans l'ensemble des futurs dossiers des villes. 

- Il est également possible de modifier le texte directement dans le dossier d'une ville. Par exemple, lors de la création d'une enquête pour Lille, un dossier `lille` sera ajouté dans `dev`. Lors de la création du questionnaire, un dossier `survey` est ajouté avec une copie du fichier `script.js`. Il est possible de modifier ce fichier dans le dossier `dev/lille/survey`. Le texte sera alors modifié pour Lille uniquement.


## Comment ajouter la position dans une URL typeform ? 

Par défaut, l'information de la position n'existe pas dans une url Typeform. Pour celà, il faut modifier le fonctionnement du formulaire. 

Dans l'onglet `Create` sur Typeform, se déplacer dans la partie `Logic`.

![](../man/figures/typeform_1.png){width=100%}

Il faut ensuite ajouter une variable cachée (_hidden fields_) :

![](../man/figures/typeform_2.png){width=100%}

Il est possible d'ajouter à ce moment l'information de la position dans l'url : 

![](../man/figures/typeform_3.png){width=100%}

## Comment modifier le thème du rapport ? 

Quarto permet de modifier le thème utilisé dans le rapport. 

Dans l'en-tête suivante : 

```
title: "Bien-être et végétalisation"
format:
  html:
    self-contained: true
    toc: true
    toc-expand: 2
    toc-title: Naviguer dans le rapport
    theme: minty
execute:
  echo: false
params:
  city: Créteil
---
```

Le paramètre `toc: true` permet l'affichage d'une table des matières jusqu'à une profondeur de niveau 2 `toc-expand: 2`. C'est à dire jusqu'aux titres de niveau 2 (ex : ## Titre niveau 2).

Le thème du rapport peut également être modifié à partir de `theme` et en sélectionnant le thème depuis Bootswatch : [https://bootswatch.com/](https://bootswatch.com/).

Plus d'informations sont dispo ici :

https://quarto.org/docs/output-formats/html-themes.html
